<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
        <%= title %> • <%= siteName %>
    </title>
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <%- include('../partials/header') %>

        <main>
            <div class="container">
                <section class="hero" aria-labelledby="hero-title">
                    <h1 id="hero-title">Find products fast</h1>
                    <p>Look up by name/brand first. If not found, upload the label to extract nutrition and check
                        preferences.</p>
                </section>

                <section class="card" aria-labelledby="scan-title">
                    <h2 id="scan-title" style="margin:0 0 10px; font-size: 1.05rem; font-weight: 700;">Search or Scan
                    </h2>

                    <form id="searchForm" novalidate>
                        <div>
                            <label for="searchInput">Product name or brand</label>
                            <input id="searchInput" name="q" type="text" placeholder="e.g., ‘Greek yogurt’ or ‘Brand X’"
                                autocomplete="off" />
                        </div>
                        <div>
                            <button id="scanBtn" type="submit">Search</button>
                        </div>
                        <div class="row" style="grid-column: 1 / -1;">
                            <div>
                                <label for="imageInput">…or upload a label image</label>
                                <input id="imageInput" name="image" type="file" accept="image/*" />
                            </div>
                            <div>
                                <button type="button" class="ghost" id="uploadAndScanBtn"
                                    title="Run OCR if not found">Scan Image</button>
                            </div>
                        </div>
                    </form>

                    <div id="resultBox" class="results" aria-live="polite" aria-busy="false">
                        <div class="empty">Results will appear here.</div>
                    </div>
                </section>
            </div>
        </main>

        <%- include('../partials/footer') %>
</body>

</html>